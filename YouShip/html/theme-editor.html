<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Editor de Tema — YouShip</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../css/style.css" rel="stylesheet">
  <link href="../css/theme.css" rel="stylesheet" id="youship-theme-css">
</head>
<body>
  <div id="youship-header"></div>
  <div class="container py-4">
    <h4>Editor de Tema</h4>
    <p class="text-muted">Edite variáveis do tema e veja a pré-visualização ao vivo. As alterações são salvas no localStorage e aplicadas automaticamente.</p>
    <div class="row">
      <div class="col-md-4">
        <div class="card p-3">
          <div class="mb-2">
            <label class="form-label">Cor principal (laranja)</label>
            <input id="inpMain" type="color" class="form-control form-control-color" value="#ff7a00" />
          </div>
          <div class="mb-2">
            <label class="form-label">Cor escura</label>
            <input id="inpDark" type="color" class="form-control form-control-color" value="#3a3a3a" />
          </div>
          <div class="mb-2">
            <label class="form-label">Background</label>
            <input id="inpBg" type="color" class="form-control form-control-color" value="#ffffff" />
          </div>
          <div class="mb-2">
            <label class="form-label">Raio dos cards</label>
            <input id="inpRadius" type="range" min="0" max="40" value="8" class="form-range" />
          </div>
          <div class="d-grid gap-2 mt-2">
            <button id="saveTheme" class="btn btn-primary">Salvar tema</button>
            <button id="resetTheme" class="btn btn-outline-secondary">Restaurar padrão</button>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="card p-3">
          <h6>Pré-visualização</h6>
          <div class="p-3 mt-2" id="previewArea">
            <nav class="navbar navbar-youship mb-3"><div class="container-fluid"><a class="navbar-brand" href="#">YouShip</a></div></nav>
            <div class="row g-3">
              <div class="col-md-8">
                <div class="youship-featured p-3 mb-3">Destaque</div>
              </div>
              <div class="col-md-4">
                <div class="card p-3">Card</div>
              </div>
            </div>
            <div class="mt-3">Exemplo de botão: <button class="btn btn-primary">Primário</button></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/header.js"></script>
  <script>
    // carregar valores do localStorage (youshipTheme)
    function applyThemeValues(obj){
      const root = document.documentElement.style;
      if(obj.main) root.setProperty('--youship-orange', obj.main);
      if(obj.dark) root.setProperty('--youship-dark', obj.dark);
      if(obj.bg) root.setProperty('--youship-bg', obj.bg);
      if(obj.radius) root.setProperty('--youship-radius', obj.radius + 'px');
      // update inputs
      document.getElementById('inpMain').value = obj.main || '#ff7a00';
      document.getElementById('inpDark').value = obj.dark || '#3a3a3a';
      document.getElementById('inpBg').value = obj.bg || '#ffffff';
      document.getElementById('inpRadius').value = obj.radius || 8;
    }
    function loadTheme(){
      try{ const raw = localStorage.getItem('youshipTheme'); if(raw){ const obj = JSON.parse(raw); applyThemeValues(obj); return obj; } }
      catch(e){}
      applyThemeValues({ main:'#ff7a00', dark:'#3a3a3a', bg:'#ffffff', radius:8 });
      return null;
    }
    function saveTheme(){
      const obj = { main: document.getElementById('inpMain').value, dark: document.getElementById('inpDark').value, bg: document.getElementById('inpBg').value, radius: document.getElementById('inpRadius').value };
      localStorage.setItem('youshipTheme', JSON.stringify(obj));
      applyThemeValues(obj);
      alert('Tema salvo localmente.');
    }
    document.getElementById('saveTheme').addEventListener('click', saveTheme);
    document.getElementById('resetTheme').addEventListener('click', ()=>{ localStorage.removeItem('youshipTheme'); loadTheme(); alert('Tema restaurado.'); });
    // inicializar
    loadTheme();
  </script>
</body>
</html>
